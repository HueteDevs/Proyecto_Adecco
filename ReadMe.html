<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>üé• Cartelera de Cine en Python (Parte 1)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Proyecto Cartelera de Cine en Python: descripci√≥n funcional, arquitectura, entidades y modelo de datos." />
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: #f5f7fb;            /* Fondo claro corporativo */
            color: #1f2933;                 /* Texto gris oscuro legible */
        }
        header {
            background: linear-gradient(135deg, #0d47a1, #1565c0); /* Azul corporativo */
            padding: 2.5rem 1.5rem;
            text-align: center;
            border-bottom: 3px solid #0056b3;                       /* Azul m√°s intenso */
            color: #ffffff;
        }
        header h1 {
            margin: 0;
            font-size: 2.2rem;
        }
        header p {
            margin: 0.5rem 0 0;
            font-size: 1rem;
            color: #e3f2fd;
        }
        main {
            max-width: 980px;
            margin: 0 auto;
            padding: 2rem 1.5rem 3rem;
        }
        h2, h3, h4 {
            color: #0056b3;              /* Azul empresarial */
            margin-top: 2rem;
        }
        h2 {
            border-bottom: 1px solid #d0d7e2;
            padding-bottom: 0.3rem;
        }
        h3 {
            margin-top: 1.5rem;
        }
        h4 {
            margin-top: 1rem;
        }
        p {
            margin: 0.5rem 0;
        }
        ul {
            margin: 0.3rem 0 0.8rem 1.2rem;
        }
        li {
            margin-bottom: 0.2rem;
        }
        .tag {
            display: inline-block;
            background: #e8f1ff;           /* Azul muy claro */
            color: #0056b3;
            border-radius: 999px;
            padding: 0.1rem 0.75rem;
            font-size: 0.8rem;
            border: 1px solid #b3c7f2;
            margin-right: 0.35rem;
            margin-bottom: 0.35rem;
        }
        .card {
            border-radius: 0.75rem;
            border: 1px solid #d0d7e2;
            background: #ffffff;           /* Tarjeta fondo blanco */
            padding: 1.25rem 1.25rem 1rem;
            margin-top: 1.5rem;
            box-shadow: 0 4px 10px rgba(15, 23, 42, 0.06);
        }
        .entity-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 0.5rem;
            align-items: baseline;
            margin-bottom: 0.7rem;
        }
        .entity-header h3 {
            margin: 0;
        }
        .entity-owner {
            font-size: 0.85rem;
            color: #6b7280;             /* Gris medio */
        }
        .section-label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }
        .relations-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 0.75rem;
            font-size: 0.9rem;
        }
        .relations-table th,
        .relations-table td {
            border: 1px solid #d0d7e2;
            padding: 0.4rem 0.5rem;
            text-align: left;
        }
        .relations-table th {
            background: #e8f1ff;
            color: #0056b3;
        }
        code {
            font-family: "JetBrains Mono", "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9em;
            background: #f3f4f6;           /* Gris claro sobre fondo blanco */
            padding: 0.1rem 0.25rem;
            border-radius: 0.25rem;
            color: #111827;
        }
        pre { /* Estilo para bloques de c√≥digo */
            background: #f3f4f6;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.9em;
            line-height: 1.4;
        }
        pre code {
            background: none;
            padding: 0;
            border-radius: 0;
        }
        footer {
            text-align: center;
            padding: 1.5rem 1rem 2rem;
            font-size: 0.85rem;
            color: #6b7280;
            border-top: 1px solid #e5e7eb;
            background: #ffffff;
        }
        a {
            color: #0056b3;
        }
        a:hover {
            color: #1d4ed8;
        }
        .subtle {
            color: #6b7280;
            font-size: 0.9rem;
        }
        @media (max-width: 640px) {
            main {
                padding: 1.5rem 1rem 2.5rem;
            }
        }
    </style>
</head>
<body>
<header role="banner">
    <h1>üé• Cartelera de Cine en Python</h1>
    <p>La magia del cine‚Ä¶ programada en Python üêçüçø</p>
</header>

<main role="main">

    <section id="intro" aria-labelledby="intro-heading">
        <h2 id="intro-heading" style="display: none;">Introducci√≥n al Proyecto</h2>
        <p>
            Bienvenido al repositorio oficial de <strong>Cartelera de Cine</strong>, una aplicaci√≥n desarrollada en 
            <strong>Python</strong> cuyo objetivo es gestionar de forma eficiente la cartelera digital de un cine.
            Este proyecto forma parte del aprendizaje del curso <strong>Python + Inteligencia Artificial</strong>, 
            combinando conceptos de programaci√≥n estructurada, POO, bases de datos, APIs y arquitectura web moderna.
        </p>
    </section>

    <section id="finalidad" aria-labelledby="finalidad-heading">
        <h2 id="finalidad-heading">üéØ Finalidad del Proyecto</h2>
        <p>El prop√≥sito de este proyecto es dise√±ar un sistema backend capaz de:</p>
        <ul>
            <li>üìå Mostrar informaci√≥n de <strong>pel√≠culas</strong> disponibles en cartelera.</li>
            <li>üïí Gestionar <strong>horarios</strong> y <strong>salas</strong>.</li>
            <li>üé´ Administrar <strong>ventas de entradas</strong> y <strong>precios</strong>.</li>
            <li>üé≠ Organizar <strong>g√©neros</strong> y <strong>clasificaciones</strong>.</li>
            <li>üë• Gestionar <strong>usuarios, autenticaci√≥n</strong> y <strong>socios</strong>.</li>
            <li>üìö Aplicar <strong>POO</strong>, estructuras de datos y buenas pr√°cticas de desarrollo.</li>
            <li>üöÄ Integrar tecnolog√≠as modernas como <strong>FastAPI</strong> y <strong>SQLAlchemy</strong>.</li>
        </ul>
    </section>

    <section id="equipo" aria-labelledby="equipo-heading">
        <h2 id="equipo-heading">üë• Equipo de Desarrollo</h2>
        <p>El proyecto ha sido dise√±ado y desarrollado por el siguiente equipo:</p>
        <ul>
            <li><strong>Javier Cach√≥n Garrido</strong></li>
            <li><strong>Kary Haro P√©rez</strong></li>
            <li><strong>Manuel Jes√∫s Mar√≠n Garc√≠a</strong></li>
            <li><strong>Reyes Delestal Barrios</strong></li>
            <li><strong>I√±aki Huete Montes</strong></li>
        </ul>
    </section>

    <section id="tecnologias" aria-labelledby="tecnologias-heading">
        <h2 id="tecnologias-heading">üõ†Ô∏è Tecnolog√≠as utilizadas</h2>
        <div>
            <span class="tag">Python 3</span>
            <span class="tag">SQLAlchemy (ORM)</span>
            <span class="tag">SQLite</span>
            <span class="tag">Programaci√≥n Orientada a Objetos</span>
            <span class="tag">FastAPI</span>
            <span class="tag">Jinja2</span>
            <span class="tag">Bootstrap 4/5</span>
            <span class="tag">HTML5</span>
            <span class="tag">CSS3</span>
            <span class="tag">JavaScript</span>
            <span class="tag">SQL</span>
            <span class="tag">Visual Studio Code</span>
        </div>
    </section>

    <section id="arquitectura" aria-labelledby="arquitectura-heading">
        <h2 id="arquitectura-heading">üèõÔ∏è Arquitectura del Sistema</h2>
        <p>
            El proyecto est√° basado en una arquitectura modular que separa claramente las 
            <strong>entidades de dominio</strong>, la <strong>l√≥gica de negocio</strong> y los 
            <strong>servicios</strong> (endpoints, vistas, etc.).
        </p>
        <p>
            A continuaci√≥n se detallan todas las entidades con sus campos, sus responsabilidades 
            dentro del sistema y las <strong>relaciones entre ellas</strong>, as√≠ como c√≥mo se pueden 
            modelar en la base de datos y, cuando procede, en el ORM.
        </p>
    </section>

    <section id="estructura" aria-labelledby="estructura-heading">
        <h2 id="estructura-heading">üìÅ Estructura del Proyecto</h2>
        <p>A continuaci√≥n se detalla la estructura recomendada del proyecto Cartelera de Cine en Python:</p>
        <pre><code>.
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pelicula.py      # Entidad Pelicula
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ genero.py        # Entidad Genero
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sala.py          # Entidad Sala
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ horario.py       # Entidad Horario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ venta.py         # Entidad Venta
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socio.py         # Entidad Socio
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ login.py         # Entidad Login / Usuario
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ peliculas.py     # Rutas CRUD Peliculas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generos.py       # Rutas CRUD Generos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ salas.py         # Rutas CRUD Salas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ horarios.py      # Rutas CRUD Horarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ventas.py        # Rutas CRUD Ventas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socios.py        # Rutas CRUD Socios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ login.py         # Rutas de autenticaci√≥n / login
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cartelera_cine.py    # Motor de conexi√≥n SQLAlchemy
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.py                # Schema y seed de la base de datos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cartelera_cine.db    # Base de datos SQLite
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html        # Layout com√∫n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ peliculas/       # Vistas HTML de peliculas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generos/         # Vistas HTML de generos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ salas/           # Vistas HTML de salas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ horarios/        # Vistas HTML de horarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ventas/          # Vistas HTML de ventas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socios/          # Vistas HTML de socios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ login/           # Vistas HTML de login/autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ static/
‚îÇ       ‚îú‚îÄ‚îÄ css/
‚îÇ       ‚îú‚îÄ‚îÄ js/
‚îÇ       ‚îî‚îÄ‚îÄ img/
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.html
‚îî‚îÄ‚îÄ run.py</code></pre>
    </section>

    <section id="entidades" aria-labelledby="entidades-heading">
        <h2 id="entidades-heading">üé¨ Entidades del Sistema</h2>

        <article id="pelicula" class="card" aria-labelledby="pelicula-h3">
            <div class="entity-header">
                <h3 id="pelicula-h3">üéûÔ∏è Pelicula</h3>
                <span class="entity-owner">Responsable: JAVIER CACH√ìN</span>
            </div>
            <p>Representa una pel√≠cula disponible (o no) en la cartelera.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong> (clave primaria)</li>
                <li><code>titulo</code>: string</li>
                <li><code>genero_id</code>: int ‚Äî <strong>FK ‚Üí generos.id</strong></li>
                <li><code>duracion</code>: int</li>
                <li><code>director</code>: string</li>
                <li><code>descripcion</code>: string</li>
                <li><code>trailer</code>: string (URL)</li>
                <li><code>productora</code>: string</li>
                <li><code>idioma</code>: string</li>
                <li><code>VOSE</code>: boolean</li>
                <li><code>actores</code>: lista (strings)</li>
                <li><code>disponible</code>: boolean</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Pelicula ‚Üî G√©nero</strong><br />
                    A nivel de base de datos:
                    <ul>
                        <li>La FK est√° en <code>peliculas.genero_id</code> apuntando a <code>generos.id</code>.</li>
                    </ul>
                    A nivel l√≥gico/ORM:
                    <ul>
                        <li>Cada <strong>Pelicula</strong> est√° asociada a un √∫nico <strong>Genero</strong> (lado N:1).</li>
                        <li>Cada <strong>Genero</strong> puede exponer una colecci√≥n de <strong>peliculas</strong> (lado 1:N).</li>
                    </ul>
                    Navegaci√≥n t√≠pica en ORM:
                    <ul>
                        <li>Desde una pel√≠cula: <code>pelicula.genero</code></li>
                        <li>Desde un g√©nero (si se implementa la colecci√≥n): <code>genero.peliculas</code></li>
                    </ul>
                </li>
                <li>
                    <strong>Pelicula ‚Üî Horario</strong><br />
                    A nivel de base de datos (modelo relacional):
                    <ul>
                        <li>La FK est√° en <code>horarios.pelicula_id</code> apuntando a <code>peliculas.id</code>.</li>
                        <li>Conceptualmente: una <strong>Pelicula</strong> puede tener muchos <strong>Horarios</strong> (1:N).</li>
                    </ul>
                    Navegaci√≥n ORM implementada:
                    <ul>
                        <li>Se navega desde <strong>Horario</strong> hacia <strong>Pelicula</strong> mediante <code>horario.pelicula</code>.</li>
                        <li><strong>No</strong> se implementa en el ORM la colecci√≥n <code>pelicula.horarios</code> (no hay atributo en la entidad Pelicula).</li>
                    </ul>
                    Es decir, la relaci√≥n es 1:N en la base de datos, pero la navegaci√≥n en c√≥digo se ha definido solo en el sentido <strong>Horario ‚Üí Pelicula</strong>.
                </li>
            </ul>

            <h4>Servicios ‚Äî Pel√≠culas üé¨</h4>
            <ul>
                <li>A√±adir pel√≠cula</li>
                <li>Ver pel√≠culas disponibles</li>
                <li>Ver detalle de una pel√≠cula</li>
                <li>Editar pel√≠cula</li>
                <li>Eliminar o desactivar pel√≠cula</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Filtrar por g√©nero, duraci√≥n, clasificaci√≥n, etc.</li>
                <li>B√∫squedas avanzadas (t√≠tulo, director, actor, etc.)</li>
                <li>Exportar cat√°logo a CSV/JSON</li>
            </ul>
        </article>

        <article id="sala" class="card" aria-labelledby="sala-h3">
            <div class="entity-header">
                <h3 id="sala-h3">üèüÔ∏è Sala</h3>
                <span class="entity-owner">Responsable: REYES</span>
            </div>
            <p>Representa una sala f√≠sica del cine.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>numero</code>: int</li>
                <li><code>capacidad</code>: int (n√∫mero de butacas)</li>
                <li><code>tipo</code>: enum (normal, 3D, IMAX, premium)</li>
                <li><code>precio_base</code>: float</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Sala ‚Üî Horario</strong><br />
                    A nivel de base de datos:
                    <ul>
                        <li>La FK est√° en <code>horarios.sala_id</code> apuntando a <code>salas.id</code>.</li>
                    </ul>
                    A nivel l√≥gico/ORM:
                    <ul>
                        <li>Una <strong>Sala</strong> puede tener muchos <strong>Horarios</strong> (1:N).</li>
                        <li>Un <strong>Horario</strong> se proyecta en una sola <strong>Sala</strong> (N:1).</li>
                    </ul>
                    Dependiendo de la configuraci√≥n del ORM se puede navegar:
                    <ul>
                        <li>Desde el horario: <code>horario.sala</code></li>
                        <li>Desde la sala (si se define colecci√≥n): <code>sala.horarios</code></li>
                    </ul>
                </li>
            </ul>

            <h4>Servicios ‚Äî Salas üèüÔ∏è</h4>
            <ul>
                <li>A√±adir sala</li>
                <li>Listar salas</li>
                <li>Editar sala (capacidad, tipo, precio_base)</li>
                <li>Activar/desactivar sala (si se implementa este campo)</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Gesti√≥n de mantenimiento (salas fuera de servicio)</li>
                <li>Suplementos por tipo de sala (3D, IMAX, etc.)</li>
            </ul>
        </article>

        <article id="horario" class="card" aria-labelledby="horario-h3">
            <div class="entity-header">
                <h3 id="horario-h3">üïí Horario</h3>
                <span class="entity-owner">Responsable: MANUEL</span>
            </div>
            <p>Representa una sesi√≥n concreta de una pel√≠cula en una sala y hora determinada.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>pelicula_id</code>: int ‚Äî <strong>FK ‚Üí peliculas.id</strong></li>
                <li><code>sala_id</code>: int ‚Äî <strong>FK ‚Üí salas.id</strong></li>
                <li><code>hora</code>: datetime/string</li>
                <li><code>disponible</code>: boolean</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Horario ‚Üî Pelicula</strong><br />
                    Modelo relacional:
                    <ul>
                        <li>Cada <strong>Horario</strong> referencia una √∫nica <strong>Pelicula</strong> mediante <code>pelicula_id</code>.</li>
                        <li>Una <strong>Pelicula</strong> puede tener muchos <strong>Horarios</strong> asociados (1:N, a nivel de tabla).</li>
                    </ul>
                    Navegaci√≥n ORM implementada:
                    <ul>
                        <li>Desde <strong>Horario</strong> hacia <strong>Pelicula</strong>: <code>horario.pelicula</code>.</li>
                        <li>No se ha definido en el ORM la colecci√≥n inversa <code>pelicula.horarios</code>; la navegaci√≥n se mantiene intencionadamente unidireccional.</li>
                    </ul>
                </li>
                <li>
                    <strong>Horario ‚Üî Sala</strong><br />
                    <ul>
                        <li>Cada <strong>Horario</strong> referencia una √∫nica <strong>Sala</strong> mediante <code>sala_id</code>.</li>
                        <li>Una <strong>Sala</strong> puede tener m√∫ltiples <strong>Horarios</strong> (1:N, a nivel de modelo l√≥gico).</li>
                    </ul>
                </li>
                <li>
                    <strong>Horario ‚Üî Venta</strong><br />
                    A nivel de base de datos:
                    <ul>
                        <li>La FK est√° en <code>ventas.horario_id</code> apuntando a <code>horarios.id</code>.</li>
                    </ul>
                    A nivel l√≥gico/ORM:
                    <ul>
                        <li>Un <strong>Horario</strong> puede tener muchas <strong>Ventas</strong> (1:N).</li>
                        <li>Cada <strong>Venta</strong> corresponde a un √∫nico <strong>Horario</strong> (N:1).</li>
                    </ul>
                </li>
            </ul>

            <h4>Servicios ‚Äî Horarios</h4>
            <ul>
                <li>Crear horario para una pel√≠cula en una sala</li>
                <li>Listar horarios por pel√≠cula</li>
                <li>Listar horarios por fecha</li>
                <li>Listar horarios por sala</li>
                <li>Editar horario (cambiar hora, sala, pel√≠cula)</li>
                <li>Cancelar horario (marcar como no disponible)</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Comprobar solapamientos de horarios en la misma sala</li>
                <li>Mostrar solo sesiones futuras</li>
                <li>Control de aforo basado en ventas</li>
            </ul>
        </article>

        <article id="venta" class="card" aria-labelledby="venta-h3">
            <div class="entity-header">
                <h3 id="venta-h3">üí≥ Venta</h3>
                <span class="entity-owner">Responsable: I√ëAKI</span>
            </div>
            <p>Representa la compra de entradas para un determinado horario.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>horario_id</code>: int ‚Äî <strong>FK ‚Üí horarios.id</strong></li>
                <li><code>precio_total</code>: float</li>
                <li><code>cantidad</code>: int (n√∫mero de entradas)</li>
                <li><code>metodo_pago</code>: enum (efectivo, tarjeta, cripto‚Ä¶)</li>
                <li><code>socio_id</code>: int (opcional) ‚Äî <strong>FK ‚Üí socios.id</strong></li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Venta ‚Üî Horario</strong><br />
                    <ul>
                        <li>Cada <strong>Venta</strong> est√° asociada a un √∫nico <strong>Horario</strong> mediante <code>horario_id</code>.</li>
                        <li>Un <strong>Horario</strong> puede tener m√∫ltiples <strong>Ventas</strong> asociadas.</li>
                    </ul>
                </li>
                <li>
                    <strong>Venta ‚Üî Socio</strong> (opcional / futuro)<br />
                    <ul>
                        <li>Cada <strong>Venta</strong> puede opcionalmente estar asociada a un <strong>Socio</strong> mediante <code>socio_id</code>.</li>
                        <li>Un <strong>Socio</strong> puede acumular muchas <strong>Ventas</strong> a su nombre.</li>
                    </ul>
                </li>
            </ul>

            <h4>Servicios ‚Äî Ventas üí≥</h4>
            <ul>
                <li>Registrar venta</li>
                <li>Calcular precio total</li>
                <li>Listar ventas (por d√≠a, pel√≠cula, horario‚Ä¶)</li>
                <li>Consultar recaudaci√≥n en un rango de fechas</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Cupones de descuento</li>
                <li>Asignar venta a <code>usuario</code> o <code>socio</code></li>
                <li>Generar ticket (PDF / c√≥digo QR)</li>
            </ul>
        </article>

        <article id="genero" class="card" aria-labelledby="genero-h3">
            <div class="entity-header">
                <h3 id="genero-h3">üè∑Ô∏è G√©nero</h3>
                <span class="entity-owner">Responsable: KARY</span>
            </div>
            <p>Cat√°logo de g√©neros cinematogr√°ficos asociados a las pel√≠culas.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>nombre</code>: string</li>
                <li><code>descripcion</code>: string</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>G√©nero ‚Üî Pelicula</strong><br />
                    <ul>
                        <li>Cada <strong>Pelicula</strong> referencia un <strong>Genero</strong> mediante <code>genero_id</code>.</li>
                        <li>Cada <strong>Genero</strong> puede agrupar muchas <strong>Peliculas</strong> asociadas.</li>
                    </ul>
                </li>
            </ul>

            <h4>Servicios ‚Äî G√©neros üè∑Ô∏è</h4>
            <ul>
                <li>Crear g√©nero</li>
                <li>Listar g√©neros</li>
                <li>Editar g√©nero</li>
                <li>Eliminar g√©nero (seg√∫n pol√≠tica de negocio)</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Permitir m√∫ltiples g√©neros por pel√≠cula (tabla intermedia)</li>
                <li>Estad√≠sticas por g√©nero (pel√≠culas, ventas, horarios, etc.)</li>
            </ul>
        </article>

        <article id="login" class="card" aria-labelledby="login-h3">
            <div class="entity-header">
                <h3 id="login-h3">üîê Login / Autenticaci√≥n</h3>
                <span class="entity-owner">Responsable: JAVIER CACH√ìN</span>
            </div>
            <p>Sistema central de autenticaci√≥n y autorizaci√≥n de usuarios (clientes y administradores).</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>username</code>: string (√∫nico)</li>
                <li><code>email</code>: string (√∫nico)</li>
                <li><code>password_hash</code>: string</li>
                <li><code>rol</code>: enum (usuario, administrador)</li>
                <li><code>activo</code>: boolean</li>
                <li><code>bloqueado</code>: boolean</li>
                <li><code>creado_en</code>: datetime</li>
                <li><code>actualizado_en</code>: datetime</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Login ‚Üî Socio</strong><br />
                    <p class="subtle">Relaci√≥n modelada t√≠picamente como <strong>Optional One-to-One</strong>: la FK opcional reside en la tabla <code>socios</code>.</p>
                    <ul>
                        <li>Un <strong>Socio</strong> puede vincularse a un √∫nico <strong>Login</strong> mediante <code>login_id</code>.</li>
                        <li>Un <strong>Login</strong> puede estar vinculado, como m√°ximo, a un <strong>Socio</strong>.</li>
                    </ul>
                    <p class="subtle">Esta relaci√≥n permite: socios sin login (alta en taquilla) y logins sin socio (usuario registrado sin programa de puntos).</p>
                </li>
            </ul>

            <h4>Servicios ‚Äî Login üîê</h4>
            <ul>
                <li>Registrar usuario</li>
                <li>Iniciar sesi√≥n</li>
                <li>Cerrar sesi√≥n</li>
                <li>Cambiar contrase√±a</li>
                <li>Recuperar contrase√±a</li>
                <li>Bloquear / desbloquear cuenta</li>
                <li>Editar email o username</li>
                <li>Listar logins activos / bloqueados</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Doble factor de autenticaci√≥n (2FA)</li>
                <li>Historial de accesos (IP, fecha, dispositivo)</li>
                <li>Expiraci√≥n peri√≥dica de contrase√±a</li>
            </ul>
        </article>

        <article id="socio" class="card" aria-labelledby="socio-h3">
            <div class="entity-header">
                <h3 id="socio-h3">üë• Socio / Fidelizaci√≥n</h3>
                <span class="entity-owner">Responsable: JAVIER CACH√ìN</span>
            </div>
            <p>Sistema de clientes registrados con ventajas y programa de puntos.</p>

            <h4>Campos</h4>
            <ul>
                <li><code>id</code>: int ‚Äî <strong>PK</strong></li>
                <li><code>numero_socio</code>: string</li>
                <li><code>login_id</code>: int ‚Äî (opcional) <strong>FK ‚Üí logins.id</strong></li>
                <li><code>email</code>: string (√∫nico)</li>
                <li><code>nivel</code>: enum (Basic, Silver, Gold, VIP)</li>
                <li><code>puntos</code>: int</li>
                <li><code>fecha_alta</code>: datetime</li>
                <li><code>activo</code>: boolean</li>
            </ul>

            <h4>Relaciones (modelo y ORM)</h4>
            <ul>
                <li>
                    <strong>Socio ‚Üî Login</strong><br />
                    <ul>
                        <li>Cada <strong>Socio</strong> puede estar vinculado a un √∫nico <strong>Login</strong> (cuenta de acceso web).</li>
                        <li>Cada <strong>Login</strong> puede vincularse, como m√°ximo, a un <strong>Socio</strong>.</li>
                    </ul>
                </li>
                <li>
                    <strong>Socio ‚Üî Venta</strong> (opcional / futuro)<br />
                    <ul>
                        <li>Un <strong>Socio</strong> puede tener asociadas m√∫ltiples <strong>Ventas</strong> (historial de compras).</li>
                        <li>Cada <strong>Venta</strong> puede referenciar al <strong>Socio</strong> que la realiz√≥.</li>
                    </ul>
                </li>
            </ul>

            <h4>Servicios ‚Äî Socios üë•</h4>
            <ul>
                <li>Alta de socio</li>
                <li>Vincular socio con login</li>
                <li>Consultar perfil de socio</li>
                <li>Consultar puntos</li>
                <li>Upgrade/downgrade de nivel</li>
                <li>Sumar puntos (compras, promociones)</li>
                <li>Restar puntos (canjes, devoluciones)</li>
                <li>Baja de socio (marcar como inactivo)</li>
            </ul>

            <h4>Extra (futuro)</h4>
            <ul>
                <li>Historial de puntos</li>
                <li>Ventajas por nivel (descuentos, preestrenos, etc.)</li>
                <li>Env√≠o de promociones por email</li>
                <li>Tarjeta digital QR</li>
            </ul>
        </article>
    </section>

    <section id="relaciones" aria-labelledby="relaciones-heading">
        <h2 id="relaciones-heading">üîó Modelo de Datos y Relaciones (Cardinalidad)</h2>
        <p>
            A continuaci√≥n se resumen las relaciones entre las entidades, indicando 
            claves for√°neas, direcci√≥n, cardinalidad y, cuando aplica, c√≥mo se navega 
            en el ORM.
        </p>

        <h3>2.1. Pelicula ‚Üî G√©nero</h3>
        <ul>
            <li><strong>FK:</strong> <code>peliculas.genero_id ‚Üí generos.id</code></li>
            <li>
                <strong>Cardinalidad (modelo l√≥gico):</strong>
                <ul>
                    <li>Una <strong>Pelicula</strong> pertenece a un √∫nico <strong>Genero</strong>.</li>
                    <li>Un <strong>Genero</strong> puede tener muchas <strong>Peliculas</strong>.</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Pelicula ‚Üí Genero: <strong>ManyToOne (N:1)</strong></li>
                    <li>Genero ‚Üí Pelicula: <strong>OneToMany (1:N)</strong></li>
                </ul>
            </li>
            <li><strong>Navegaci√≥n ORM t√≠pica:</strong> <code>pelicula.genero</code> y, si se define, <code>genero.peliculas</code></li>
        </ul>

        <h3>2.2. Horario ‚Üî Pelicula</h3>
        <ul>
            <li><strong>FK:</strong> <code>horarios.pelicula_id ‚Üí peliculas.id</code></li>
            <li>
                <strong>Cardinalidad (modelo l√≥gico):</strong>
                <ul>
                    <li>Un <strong>Horario</strong> corresponde a una <strong>Pelicula</strong> concreta.</li>
                    <li>Una <strong>Pelicula</strong> puede tener muchos <strong>Horarios</strong> (1:N).</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Horario ‚Üí Pelicula: <strong>ManyToOne (N:1)</strong></li>
                    <li>Pelicula ‚Üí Horario: <strong>OneToMany (1:N)</strong> (a nivel de dise√±o de datos)</li>
                </ul>
            </li>
            <li><strong>Navegaci√≥n ORM implementada:</strong> solo <code>horario.pelicula</code> (no se implementa <code>pelicula.horarios</code> en el modelo actual).</li>
        </ul>

        <h3>2.3. Horario ‚Üî Sala</h3>
        <ul>
            <li><strong>FK:</strong> <code>horarios.sala_id ‚Üí salas.id</code></li>
            <li>
                <strong>Cardinalidad:</strong>
                <ul>
                    <li>Un <strong>Horario</strong> se proyecta en una sola <strong>Sala</strong>.</li>
                    <li>Una <strong>Sala</strong> puede tener muchos <strong>Horarios</strong>.</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Horario ‚Üí Sala: <strong>ManyToOne (N:1)</strong></li>
                    <li>Sala ‚Üí Horario: <strong>OneToMany (1:N)</strong></li>
                </ul>
            </li>
        </ul>

        <h3>2.4. Venta ‚Üî Horario</h3>
        <ul>
            <li><strong>FK:</strong> <code>ventas.horario_id ‚Üí horarios.id</code></li>
            <li>
                <strong>Cardinalidad:</strong>
                <ul>
                    <li>Una <strong>Venta</strong> est√° asociada a un solo <strong>Horario</strong>.</li>
                    <li>Un <strong>Horario</strong> puede tener muchas <strong>Ventas</strong>.</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Venta ‚Üí Horario: <strong>ManyToOne (N:1)</strong></li>
                    <li>Horario ‚Üí Venta: <strong>OneToMany (1:N)</strong></li>
                </ul>
            </li>
        </ul>

        <h3>2.5. Socio ‚Üî Login</h3>
        <ul>
            <li><strong>FK:</strong> <code>socios.login_id ‚Üí logins.id</code> (opcional)</li>
            <li>
                <strong>Cardinalidad:</strong>
                <ul>
                    <li>Un <strong>Socio</strong> puede estar vinculado a un solo <strong>Login</strong>.</li>
                    <li>Un <strong>Login</strong> puede estar vinculado, como m√°ximo, a un <strong>Socio</strong>.</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Socio ‚Üí Login: <strong>Optional OneToOne (0..1 : 1)</strong></li>
                    <li>Login ‚Üí Socio: <strong>Optional OneToOne (1 : 0..1)</strong></li>
                </ul>
            </li>
        </ul>

        <h3>2.6. Venta ‚Üî Socio (futuro)</h3>
        <p class="subtle">(Opcional, si se implementa en el modelo)</p>
        <ul>
            <li><strong>FK:</strong> <code>ventas.socio_id ‚Üí socios.id</code></li>
            <li>
                <strong>Cardinalidad:</strong>
                <ul>
                    <li>Una <strong>Venta</strong> puede estar asociada a un <strong>Socio</strong>.</li>
                    <li>Un <strong>Socio</strong> puede tener muchas <strong>Ventas</strong> a lo largo del tiempo.</li>
                </ul>
            </li>
            <li>
                <strong>Tipo:</strong>
                <ul>
                    <li>Venta ‚Üí Socio: <strong>ManyToOne (N:1)</strong></li>
                    <li>Socio ‚Üí Venta: <strong>OneToMany (1:N)</strong></li>
                </ul>
            </li>
        </ul>

        <h3>Resumen visual simplificado</h3>
        <pre><code>generos (1) ‚îÄ‚îÄ‚îÄ‚îÄ&lt; (N) peliculas

peliculas (1) ‚îÄ‚îÄ‚îÄ‚îÄ&lt; (N) horarios &gt;‚îÄ‚îÄ‚îÄ‚îÄ (1) salas

horarios (1) ‚îÄ‚îÄ‚îÄ‚îÄ&lt; (N) ventas

logins (1) ‚îÄ‚îÄ‚îÄ‚îÄ(0..1) socios

socios (1) ‚îÄ‚îÄ‚îÄ‚îÄ&lt; (N) ventas    [opcional si se a√±ade ventas.socio_id]
        </code></pre>
        

<section id="instalacion" aria-labelledby="instalacion-heading">
        <h2 id="instalacion-heading">üì¶ Instalaci√≥n de dependencias</h2>
        <p>
            Antes de ejecutar el proyecto se recomienda utilizar un entorno virtual de Python
            y cargar todas las dependencias desde <code>requirements.txt</code>.
        </p>

        <h3>1. Clonar el repositorio</h3>
        <pre><code>git clone https://github.com/HueteDevs/Proyecto_Adecco
cd Proyecto_Adecco
        </code></pre>

        <h3>2. Crear y activar entorno virtual (opcional, pero recomendado)</h3>
        <pre><code># Linux y MacOS
python3 -m venv .venv
source .venv/bin/activate

# Windows (PowerShell)
python -m venv .venv
.venv\Scripts\Activate.ps1
        </code></pre>

        <h3>3. Instalar dependencias del proyecto</h3>
        <p>Con el entorno virtual activado:</p>
        <pre><code>pip install -r requirements.txt
        </code></pre>

        <p class="subtle">
            Entre las dependencias t√≠picas se incluyen paquetes como
            <code>fastapi</code>, <code>uvicorn</code>, <code>sqlalchemy</code>,
            <code>pydantic</code> <code>jinja2</code> y el driver de <code>sqlite</code> ya incorporado
            en la librer√≠a est√°ndar de Python.
        </p>
    </section>

    <section id="ejecucion" aria-labelledby="ejecucion-heading">
        <h2 id="ejecucion-heading">‚ñ∂Ô∏è Ejecuci√≥n paso a paso</h2>
        <p>
            Una vez instaladas las dependencias y creada la base de datos, la ejecuci√≥n
            del proyecto se realiza normalmente a trav√©s de <strong>FastAPI</strong>
            y un servidor ASGI como <strong>Uvicorn</strong>.
        </p>

        <h3>1. Comprobar variables de entorno (opcional)</h3>
        <p>
            Si se utilizan variables de entorno (por ejemplo, para el modo debug o la URL
            de la base de datos), config√∫ralas antes de lanzar la aplicaci√≥n.
        </p>

        <h3>2. Ejecutar el servidor de desarrollo</h3>
        <pre><code># Desde la ra√≠z del proyecto
uvicorn app.main:app --reload
        </code></pre>

        <p>
            Por defecto, la API estar√° disponible en:
            <code>http://127.0.0.1:8000</code> y la documentaci√≥n interactiva en:
        </p>
        <ul>
            <li><code>http://127.0.0.1:8000/docs</code> (Swagger UI)</li>
            <li><code>http://127.0.0.1:8000/redoc</code> (ReDoc)</li>
        </ul>

        <h3>3. Ejecuci√≥n desde <code>run.py</code> (alternativa)</h3>
        <pre><code>python run.py
        </code></pre>
        <p class="subtle">
            Este script puede actuar como punto de entrada unificado para
            entornos de desarrollo o despliegue.
        </p>
    </section>

    <section id="scripts-bd" aria-labelledby="scripts-bd-heading">
        <h2 id="scripts-bd-heading">üóÑÔ∏è Scripts de inicializaci√≥n de la base de datos</h2>
        <p>
            La base de datos principal del proyecto es un fichero
            <strong>SQLite</strong> llamado <code>cartelera_cine.db</code>,
            ubicado en <code>app/database/</code>.
        </p>

        <h3>1. M√≥dulos de base de datos</h3>
        <ul>
            <li><code>app/database/cartelera_cine.py</code> ‚Äî configuraci√≥n de la conexi√≥n SQLAlchemy.</li>
            <li><code>app/database/db.py</code> ‚Äî creaci√≥n de tablas y carga inicial de datos (seed).</li>
        </ul>

        <h3>2. Crear o recrear la base de datos</h3>
        <p>Desde la ra√≠z del proyecto:</p>
        <pre><code>python -m app.cartelera_cine.db
        </code></pre>

        <p>
            Este script se encarga de:
        </p>
        <ul>
            <li>Crear el fichero <code>cartelera_cine.db</code> si no existe.</li>
            <li>Generar las tablas correspondientes a las entidades:
                <code>peliculas</code>, <code>generos</code>, <code>salas</code>,
                <code>horarios</code>, <code>ventas</code>, <code>logins</code> y <code>socios</code>.
            </li>
            <li>Cargar datos de ejemplo (pel√≠culas, horarios, etc.) para pruebas.</li>
        </ul>

        <h3>3. Regenerar la base de datos (entornos de desarrollo)</h3>
        <p class="subtle">
            En desarrollo es habitual borrar el fichero
            <code>cartelera_cine.db</code> y volver a ejecutar
            <code>python -m app.cartelera_cine.db</code> para partir de un estado limpio.
        </p>
    </section>

    <section id="fastapi-endpoints" aria-labelledby="fastapi-endpoints-heading">
        <h2 id="fastapi-endpoints-heading">üåê Definici√≥n de endpoints con FastAPI</h2>
        <p>
            La API se estructura en m√≥dulos de rutas dentro del paquete
            <code>app/routes/</code>, separando por dominio funcional
            (pel√≠culas, g√©neros, salas, horarios, ventas, socios y login).
        </p>

        <h3>1. Punto de entrada de la API: <code>app/main.py</code></h3>
        <pre><code>from fastapi import FastAPI
from app.routes import peliculas, generos, salas, horarios, ventas, socios, login

app = FastAPI(title="Cartelera de Cine en Python")

app.include_router(peliculas.router, prefix="/peliculas", tags=["Pel√≠culas"])
app.include_router(generos.router,   prefix="/generos",   tags=["G√©neros"])
app.include_router(salas.router,     prefix="/salas",     tags=["Salas"])
app.include_router(horarios.router,  prefix="/horarios",  tags=["Horarios"])
app.include_router(ventas.router,    prefix="/ventas",    tags=["Ventas"])
app.include_router(socios.router,    prefix="/socios",    tags=["Socios"])
app.include_router(login.router,     prefix="/auth",      tags=["Login"])
        </code></pre>

        <h3>2. Ejemplo de endpoints: <code>app/routes/peliculas.py</code></h3>
        <pre><code>from fastapi import APIRouter, HTTPException
from typing import List
from app.schemas.pelicula import PeliculaCreate, PeliculaRead
from app.services.peliculas import PeliculaService

router = APIRouter()

@router.get("/", response_model=List[PeliculaRead])
def listar_peliculas():
    return PeliculaService.listar()

@router.get("/{pelicula_id}", response_model=PeliculaRead)
def obtener_pelicula(pelicula_id: int):
    pelicula = PeliculaService.obtener(pelicula_id)
    if not pelicula:
        raise HTTPException(status_code=404, detail="Pel√≠cula no encontrada")
    return pelicula

@router.post("/", response_model=PeliculaRead, status_code=201)
def crear_pelicula(datos: PeliculaCreate):
    return PeliculaService.crear(datos)

@router.delete("/{pelicula_id}", status_code=204)
def eliminar_pelicula(pelicula_id: int):
    PeliculaService.eliminar(pelicula_id)
        </code></pre>

        <h3>3. Endpoints habituales por m√≥dulo</h3>
        <ul>
            <li><strong>/peliculas</strong>: CRUD de pel√≠culas y filtros por g√©nero, disponibilidad, etc.</li>
            <li><strong>/generos</strong>: mantenimiento del cat√°logo de g√©neros.</li>
            <li><strong>/salas</strong>: gesti√≥n de salas y capacidades.</li>
            <li><strong>/horarios</strong>: gesti√≥n de sesiones (pel√≠cula + sala + hora).</li>
            <li><strong>/ventas</strong>: registro de ventas y consultas de recaudaci√≥n.</li>
            <li><strong>/socios</strong>: alta, baja y gesti√≥n de datos de socios.</li>
            <li><strong>/login</strong>: registro, login, logout y gesti√≥n de credenciales.</li>
        </ul>

        <p class="subtle">
            Esta organizaci√≥n facilita el mantenimiento, la escalabilidad del proyecto y
            la integraci√≥n posterior con un frontend (por ejemplo, una SPA o plantillas
            Jinja2).
        </p>
    </section>

    <section id="futuras-mejoras" aria-labelledby="futuras-mejoras-heading">
        <h2 id="futuras-mejoras-heading">üöÄ Futuras Mejoras del Proyecto</h2>
        <ul>
            <li>Sistema completo de compra de entradas (frontend + backend).</li>
            <li>Dise√±o gr√°fico tipo cine (UI/UX m√°s cinematogr√°fica).</li>
            <li>Panel de administraci√≥n web (gesti√≥n de contenidos y usuarios).</li>
            <li>Estad√≠sticas avanzadas (ventas, ocupaci√≥n, popularidad de pel√≠culas).</li>
            <li>Machine Learning para recomendaciones personalizadas de pel√≠culas.</li>
        </ul>
    </section>

    <section id="actualizaciones" aria-labelledby="actualizaciones-heading">
        <h2 id="actualizaciones-heading">üì¶ Pr√≥ximas actualizaciones</h2>
        <p>Se incorporar√° documentaci√≥n detallada y ejemplos adicionales sobre:</p>
        <ul>
            <li>Estructura de carpetas del proyecto.</li>
            <li>Instalaci√≥n de dependencias en distintos entornos.</li>
            <li>Ejecuci√≥n paso a paso con distintos perfiles (desarrollo / producci√≥n).</li>
            <li>Scripts de inicializaci√≥n y migraciones de la base de datos.</li>
            <li>Definici√≥n avanzada de endpoints y seguridad en FastAPI.</li>
        </ul>
    </section>

</main>

<footer role="contentinfo">
    ‚ú® Proyecto en constante evoluci√≥n. Cada aportaci√≥n suma. Este repositorio seguir√° creciendo con nuevas funcionalidades, mejoras y buenas pr√°cticas de programaci√≥n.
</footer>

</body>
</html>

